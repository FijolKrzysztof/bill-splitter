(this["webpackJsonpbill-splitter"]=this["webpackJsonpbill-splitter"]||[]).push([[0],{19:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(1),s=n.n(a),c=n(13),i=n.n(c),o=(n(19),n(9)),d=n(6),l=n(7),u=n(8),h=n(11),j=n(10),p=(n(20),n(24)),b=n(25),f=n(26),O=n(29),m=n(27),g=n(28),v=0,x=1,y=-1,C=[],N=[],k=[],I=[],F=[],B=[],L=[],P=[],S=0,D=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(p.a,{style:{marginTop:5},children:[Object(r.jsx)(b.a,{variant:"light",children:"Debt"}),Object(r.jsx)(b.a,{children:":"}),Object(r.jsx)(b.a,{variant:"warning",pill:!0,children:"#"+(N[this.props.person][this.props.debt][0]+1)}),Object(r.jsx)(b.a,{children:"\u279e"}),Object(r.jsx)(b.a,{variant:"danger",children:N[this.props.person][this.props.debt][1]}),Object(r.jsx)(b.a,{children:"\u279e"}),Object(r.jsx)(b.a,{variant:"warning",pill:!0,children:"#"+(N[this.props.person][this.props.debt][2]+1)})]})}}]),n}(a.Component),T=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(p.a,{style:{marginBottom:5},children:[Object(r.jsx)(b.a,{variant:"success",children:C[this.props.person][this.props.product][0]}),Object(r.jsx)(b.a,{children:"x"+C[this.props.person][this.props.product][1]}),Object(r.jsx)(b.a,{variant:"secondary",children:C[this.props.person][this.props.product][2]})]})}}]),n}(a.Component),E=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this,t)).state={productList:[],debtList:[]},r.addProduct=r.addProduct.bind(Object(d.a)(r)),r.addDebt=r.addDebt.bind(Object(d.a)(r)),r}return Object(u.a)(n,[{key:"addProduct",value:function(t,e){var n=this.state.productList;this.setState({productList:n.concat(Object(r.jsx)(T,{person:t,product:e},n.length))})}},{key:"addDebt",value:function(t,e){var n=this.state.debtList;this.setState({debtList:n.concat(Object(r.jsx)(D,{person:t,debt:e},n.length))})}},{key:"render",value:function(){return Object(r.jsxs)("div",{id:"person-"+this.props.num,children:[Object(r.jsx)(p.a,{style:{marginBottom:10,marginTop:15},children:Object(r.jsx)(b.a,{pill:!0,variant:"warning",children:"#"+(this.props.num+1)})}),Object(r.jsx)(f.a,{}),Object(r.jsxs)(f.a,{children:[this.state.productList,Object(r.jsxs)(p.a,{style:{marginTop:10},children:[Object(r.jsx)(b.a,{variant:"light",children:"Price"}),Object(r.jsx)(b.a,{children:":"}),Object(r.jsx)(b.a,{variant:"danger",children:I[this.props.num]})]}),this.state.debtList]})]})}}]),n}(a.Component),M=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this,t)).getProduct=function(t){var e=parseInt(t.target.id.slice(8),10);F[e]=t.target.value},r.getPrice=function(t){for(var e=parseInt(t.target.id.slice(6),10),n=t.target.value,r=!1,a=!1,s=0,c=0;c<n.length;c++)n[c]>=0&&n[c]<=9||"."===n[c]?("."===n[c]&&(s++,n.length-1===c&&(a=!0),n.length-3>c&&(r=!0)),s>1&&(r=!0)):r=!0;!0===r?(document.getElementById("price-"+e).style.backgroundColor="red",document.getElementById("price-"+e).style.borderColor="red"):!0===a?(document.getElementById("price-"+e).style.backgroundColor="orange",document.getElementById("price-"+e).style.borderColor="orange"):(document.getElementById("price-"+e).style.backgroundColor="white",document.getElementById("price-"+e).style.borderColor="white",B[e]=t.target.value)},r.handleDelete=function(t){var e=parseInt(t.target.id.slice(4),10),n=document.getElementById("div-"+e);n.parentNode.removeChild(n),k.push(e)},r.assignIncrease=function(t){var e=parseInt(t.target.id.slice(3),10),n=L[e];if(n!==x){n++,L[e]=n;var a=Object(o.a)(r.state.assign);a="#"+n,r.setState({assign:a})}},r.assignDecrease=function(t){var e=parseInt(t.target.id.slice(3),10),n=L[e];if(0!==n){n--,L[e]=n;var a=Object(o.a)(r.state.assign);a=0===n?"##":"#"+n,r.setState({assign:a})}},r.productsIncrease=function(t){var e=parseInt(t.target.id.slice(3),10),n=P[e];n++,P[e]=n;var a=Object(o.a)(r.state.products);a="x"+n,r.setState({products:a})},r.productsDecrease=function(t){var e=parseInt(t.target.id.slice(3),10),n=P[e];if(1!==n){n--,P[e]=n;var a=Object(o.a)(r.state.products);a="x"+n,r.setState({products:a})}},r.updateState=function(){Object(o.a)(r.state.assign);r.setState({assign:"##"})},r.state={idNum:y,assign:"##",products:"x1"},r}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(r.jsxs)("div",{id:"div-"+this.state.idNum,style:{marginBottom:50},children:[Object(r.jsxs)(p.a,{children:[Object(r.jsx)(f.a,{children:Object(r.jsx)("input",{id:"product-"+this.state.idNum,type:"text",className:"form-control",placeholder:"Product Name",onChange:this.getProduct})}),Object(r.jsx)(f.a,{children:Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("input",{id:"price-"+this.state.idNum,type:"text",className:"form-control",placeholder:"Price",onChange:this.getPrice}),Object(r.jsx)("div",{className:"input-group-append",children:Object(r.jsx)("button",{id:"btn-"+this.state.idNum,onClick:function(e){return t.handleDelete(e)},className:"btn btn-danger",type:"button",children:"\ud83d\uddd1"})})]})})]}),Object(r.jsxs)(p.a,{children:[Object(r.jsx)(f.a,{children:Object(r.jsxs)(p.a,{className:"justify-content-center",children:[Object(r.jsx)(f.a,{children:Object(r.jsx)(b.a,{children:"Assign to person:"})}),Object(r.jsxs)(f.a,{children:[Object(r.jsx)(O.a,{id:"bt-"+this.state.idNum,onClick:function(e){return t.assignDecrease(e)},children:"\u2013"}),Object(r.jsx)(b.a,{children:this.state.assign}),Object(r.jsx)(O.a,{id:"bt-"+this.state.idNum,onClick:function(e){return t.assignIncrease(e)},children:"+"})]})]})}),Object(r.jsx)(f.a,{children:Object(r.jsxs)(p.a,{className:"justify-content-center",children:[Object(r.jsx)(f.a,{children:Object(r.jsx)(b.a,{children:"Number of products:"})}),Object(r.jsxs)(f.a,{children:[Object(r.jsx)(O.a,{id:"bt-"+this.state.idNum,onClick:function(e){return t.productsDecrease(e)},children:"\u2013"}),Object(r.jsx)(b.a,{children:this.state.products}),Object(r.jsx)(O.a,{id:"bt-"+this.state.idNum,onClick:function(e){return t.productsIncrease(e)},children:"+"})]})]})})]})]})}}]),n}(a.Component),R=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this,t)).handleIncrement=function(){x++,r.setState({people:x})},r.handleDecrement=function(){if(1!==x){x--;for(var t=function(t){L[t]>x&&(L[t]=0,setTimeout((function(){r["myRef"+t].current.updateState()}),0))},e=0;e<L.length;e++)t(e);r.setState({people:x})}},r.componentDidMount=function(){for(var t=0;t<1;t++)setTimeout((function(){r.addForm()}),0)},r.handleCalculate=function(){for(var t=0;t<v;t++){var e=document.getElementById("person-"+t);e.parentNode.removeChild(e)}v=0;for(var n=0;n<k.length;n++)L[k[n]]=-1,B[k[n]]=-1,P[k[n]]=-1,F[k[n]]=-1;S=0,C=[],N=[];var a=[];I=[];for(var s=0;s<x;s++)C.push([]),N.push([]),a.push([]),I.push(0);for(var c=0;c<F.length;c++)if(0!==L[c])for(var i=0;i<P[c];i++)a[L[c]-1].push([F[c],B[c]]),I[L[c]-1]+=parseFloat(B[c],10);for(var o=[],d=0;d<F.length;d++)if(0===L[d])for(var l=0;l<P[d];l++)o.push([F[d],B[d]]);function u(t){if(a[t].length>0){for(var e=["product",0],n=0;n<a[t].length;n++)parseFloat(a[t][n][1],10)>=e[1]&&(e[1]=parseFloat(a[t][n][1]),e[0]=a[t][n][0]);for(var r=0,s=0;s<a[t].length;s++)e[0]===a[t][s][0]&&e[1]===parseFloat(a[t][s][1])&&r++;C[t].push([e[0],r,e[1].toFixed(2)]);for(var c=a[t].length-1;c>-1;c--)e[0]===a[t][c][0]&&e[1]===parseFloat(a[t][c][1])&&a[t].splice(c,1);u(t)}}o.sort((function(t,e){return e[1]-t[1]})),function t(e){if(e.length>0)for(var n=0;n<F.length;n++)if(e[0][0]===F[n]&&e[0][1]===B[n]){for(var r=[99999999999999,-1],s=0;s<x;s++)I[s]<r[0]&&(r[0]=I[s],r[1]=s);a[r[1]].push([F[n],B[n]]),I[r[1]]+=parseFloat(B[n],10),e.shift(),t(e);break}}(o);for(var h=[],j=0;j<x;j++)u(j),I[j]=I[j].toFixed(2),S+=parseFloat(I[j],10),h.push(parseFloat(I[j],10));var p=S/x;!function t(){for(var e=[9999999999999,-1],n=0;n<x;n++)Math.abs(h[n]-p)<=Math.abs(e[0])&&Math.abs(h[n]-p)>.01&&(e[0]=p-h[n],e[1]=n);if(Math.abs(e[0])>.01&&e[0]<9999999999999){for(var r=-1,a=0;a<x;a++)if(e[0]<0){if(p-h[a]>0){r=a;break}}else if(p-h[a]<0){r=a;break}h[e[1]]=p,h[r]=h[r]-e[0],e[0]<0?(N[e[1]].push([r,Math.abs(e[0]),e[1]]),N[r].push([r,Math.abs(e[0]),e[1]])):(N[e[1]].push([e[1],Math.abs(e[0]),r]),N[r].push([e[1],Math.abs(e[0]),r])),t()}}();for(var b=0;b<x;b++)N[b].sort((function(t,e){return e[1]-t[1]}));for(var f=0;f<x;f++)for(var O=0;O<N[f].length;O++)N[f][O][1]=N[f][O][1].toFixed(2);for(var m=function(t){setTimeout((function(){r.addPerson(t)}),0)},g=0;g<x;g++)m(g);for(var y=function(t){for(var e=function(e){setTimeout((function(){r["productRef"+t].current.addProduct(t,e)}),0)},n=0;n<C[t].length;n++)e(n)},D=0;D<x;D++)y(D);for(var T=function(t){for(var e=function(e){setTimeout((function(){r["productRef"+t].current.addDebt(t,e)}),0)},n=0;n<N[t].length;n++)e(n)},E=0;E<x;E++)T(E);S=S.toFixed(2),r.setState({totalCost:S}),document.getElementById("total").style.display="block"},r.state={inputList:[],personList:[]},r.addForm=r.addForm.bind(Object(d.a)(r)),r.addPerson=r.addPerson.bind(Object(d.a)(r)),r}return Object(u.a)(n,[{key:"addForm",value:function(){y++,F.push(""),B.push(0),L.push(0),P.push(1),this["myRef"+y]=s.a.createRef();var t=this.state.inputList;this.setState({inputList:t.concat(Object(r.jsx)(M,{ref:this["myRef"+y]},t.length))})}},{key:"addPerson",value:function(t){v++,this["productRef"+t]=s.a.createRef();var e=this.state.personList;this.setState({personList:e.concat(Object(r.jsx)(E,{ref:this["productRef"+t],num:t},e.length))})}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)(m.a,{style:{marginTop:50,marginBottom:50},children:Object(r.jsxs)(f.a,{children:[Object(r.jsx)(p.a,{className:"justify-content-end",style:{marginBottom:50},children:Object(r.jsxs)(f.a,{className:"col-4 col-sm-3 col-md-2 col-lg-1",children:[Object(r.jsx)(p.a,{className:"justify-content-center",children:Object(r.jsx)(b.a,{variant:"light",children:"#"+x})}),Object(r.jsx)(p.a,{className:"justify-content-center",style:{marginBottom:2,marginTop:5},children:Object(r.jsxs)(g.a,{className:"btn-group",children:[Object(r.jsx)(O.a,{onClick:this.handleDecrement,children:"\u2013"}),Object(r.jsx)(O.a,{onClick:this.handleIncrement,children:"+"})]})}),Object(r.jsx)(p.a,{className:"justify-content-center",children:Object(r.jsx)(b.a,{className:"text-wrap",children:"Number of people"})})]})}),this.state.inputList,Object(r.jsxs)(p.a,{style:{marginBottom:40},children:[Object(r.jsx)(O.a,{id:"i",onClick:this.addForm,block:!0,children:"+"}),Object(r.jsx)(O.a,{onClick:this.handleCalculate,variant:"secondary",block:!0,children:"Calculate"})]}),this.state.personList,Object(r.jsxs)(p.a,{id:"total",style:{marginTop:40,display:"none"},children:[Object(r.jsx)(b.a,{variant:"info",children:"Total Price"}),Object(r.jsx)(b.a,{children:":"}),Object(r.jsx)(b.a,{variant:"danger",children:S})]})]})})})})}}]),n}(a.Component),w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),s(t),c(t)}))};n(21);i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root")),w()}},[[22,1,2]]]);
//# sourceMappingURL=main.5d8b5b3f.chunk.js.map